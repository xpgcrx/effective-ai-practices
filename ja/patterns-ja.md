# AI活用パターン集

生産性や品質の向上に有効と感じた生成AI活用パターンをまとめる。

## 開発ブランチの手動テストケースを作る

### 目的

- ローカルの開発ブランチに対し手動テストケースを素早く作成したい。

### 使用するAIツール想定

- Claude CodeやGemini CLI等のコードをコンテキストにして動作可能なツール

### 手順

developに向けたPR提出予定と想定

1. developの最新をpullしておく
2. 対象ブランチをローカルでcheckout
3. developブランチとの差分について、手動テストパターンを作成したいと頼む
4. 手動テストパターンについてディスカッションする
    - 単体テストが実装済みの場合、単体テストでのカバー範囲を考慮し、手動でやる価値が高い手動テストスイートとなるようにしてもらう
5. マトリクス等に整理してもらう

### 事例

（AI無しでやるより良かった時の実例。もしくは逆にこういう場合は上手く行かなかったなど）

## 自分たちの観点に沿ったコードレビューをする

### 目的

- 提出されているPRのレビュー（もしくは、PR提出前のセルフレビュー）を、チーム内で定めているコードレビュー観点に沿って行いたい

### 使用するAIツール想定

- Claude CodeやGemini CLI等のコードをコンテキストにして動作可能なツール

### 事前準備

- プロジェクトルートのGEMINI.md（もしくは別管理したメモリファイル）などにコードレビュー観点を記載しておき、
  コードレビュー時にはそちらを参照するように記載しておく

### 手順

developに向けたPR提出予定と想定

1. developの最新をpullしておく
2. レビュー対象ブランチをローカルでcheckoutし必要ならpullして最新化しておく
3. 現在のブランチとdevelopブランチとの差分について、レビューをしてとAIに頼む
    - コードレビュー依頼用のカスタムスラッシュコマンドを作成しておいたり、スニペットツールにプロンプトを保存しておくと便利
        - カスタムスラッシュコマンドはツールに依存してしまうので、個人的には汎用的なスニペットツールのほうを推薦

#### プロンプト例

```
ローカルの現在のブランチとdevelopブランチのコミット済みの差分に対してコードレビューを行ってください。
```

※1：⭐️「コミット済みの差分に対して」と言っておくと、PRの内容のみに絞ったレビューが出来る（ローカルにコミットしていない差分があったりすると、PRの差分ではないがレビュー対象に含まれてしまう）

※2：（Gemini CLI）GEMINI.mdに「レビュー観点」および「コードレビューを指示されたらその観点を中心にレビューする」ように書いてもいるが、上手く観点を見てくれない事象があった。その場合は↑のようにコードレビュー観点を記載したmdのパスを与えて指示するとちゃんと参照してくれる。

#### Tips

- ⭐️要件や仕様等を記載したJiraチケットやConfluenceがあれば、そのURLも一緒に与えてやると、それも踏まえてレビューさせることが可能
    - その場合はJiraやConfluenceのMCPサーバ設定が必要

### 事例

（素早く良いレビューが出来た事例や自分に無かった指摘が出来た事例など）

## 伝わるドキュメントにブラッシュアップする

### 目的

- Confluenceに記載したドキュメントのレビューをしたい（もちろんセルフレビューも可）
- チーム内で定めているドキュメントレビュー観点に沿ったレビューを行いたい

### 使用するAIツール想定

- Claude CodeやGemini CLI等のコードをコンテキストにして動作可能なツール

### 事前準備

- GEMINI.mdなどにドキュメントレビュー観点を記載しておく

### 手順

1. 対象のConfluenceページのURLを与えて、ドキュメントレビューをしてと頼む
    - ドキュメントレビュー依頼用にスニペットツールにプロンプトを保存しておくと便利

### 事例

（ブラッシュアップした資料を実際に他の人に見せて話をして、上手く伝わった例など）

## 作業させて得られたナレッジを出力させる

AIツールに作業させたあと、記録するに値する有用な内容の場合は、完了後にナレッジとして出力しておくと良い。  
`今議論してきた〜を汎用的な形で、Markdown形式で出力して` のように依頼する。

自分のObsidianなどに知識として溜めたり、Confluenceなどにまとめてチームに共有すると良い。

## チケット駆動開発

ちゃんと要件等を整理したチケットを書きそれをAIツールに与えて、キャッチアップなり実装なりの会話をしていく

## 設計にAIを使う

### Tips

設計は机上で完結出来るものではなく、実装から設計へのフィードバックはある。
そのため、例えば設計にGeminiを使うなら、コードにアクセスできないブラウザのGeminiよりもGemini CLI上で設計も行うと良い。
例えば一見良さそうな設計案でも、現在のコードに鑑みて考えると都合が悪くやるなら工数大の対応になる、などがわかることもある。

一方で、ブラウザのGeminiは取り回しは良いので、案出しレベルではブラウザのGeminiを使い、各案の実装面での評価には、Gemini CLIを使うなど。

## セルフ仕様レビューを行い手戻りを防ぐ

### 目的

- チーム内やさらに上位者への仕様レビューをしてもらう前に、セルフレビューを行うことで、手戻りを防ぐ

### 使用するAIツール想定

- Claude CodeやGemini CLI等のローカルで動作可能なツール

### 事前準備

- 仕様確認観点を書いたメモリファイルを作成する

### 手順

- 上記メモリファイルを参照出来るGemini CLI等のツールに、仕様を書いたドキュメントを与えて、レビュー依頼するプロンプトを実行する。
    - 例えばConfluenceで仕様を書いた場合は、Atlassian MCPによりURLを与えるだけでドキュメントを参照可能

### 事例

仕様観点のメモリファイル改善の例

- チーム内では指摘されなかったがさらに上位者に仕様共有したところ検討した方が良い観点のコメントが出てきて、検討した結果方針転換することになった
- その後、仕様観点のメモリファイルを確認するとその観点が無かったので、追加して古い仕様の資料をGemini CLIでレビューさせたところ、その観点を指摘してもらうことが出来た

## 既存コードを素早く理解する

### 目的

- 慣れていない既存コードなどを素早く理解する

### 使用するAIツール想定

- Claude CodeやGemini CLI等のローカルで動作可能なツール

### 事前準備

- 特になし

### 手順

- 適当にコードについて聞くのみ
    - （特に効果的なプロンプトはあるか？）

### 事例
